<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<main class="container">
    <!--<img src="NemoBookData/PAGE1_bkg.png" alt="" class="page-bg">-->
    <div id="page1" class="on">
        <img src="NemoBookData/PAGE1_1.png" id="page1_1">
        <img src="NemoBookData/PAGE1_2.png" id="page1_2">
        <img src="NemoBookData/PAGE1_3.png" id="page1_3">
        <img src="NemoBookData/PAGE1_4.png" id="page1_4">
        <img src="NemoBookData/PAGE1_5.png" id="page1_5">
    </div>
    <div id="page2">
        <img src="NemoBookData/PAGE2_1.png" id="page2_1">
        <img src="NemoBookData/PAGE2_2.png" id="page2_2">
        <img src="NemoBookData/PAGE2_3.png" id="page2_3">
    </div>
    <div id="page3">
        <img src="NemoBookData/PAGE3_4.png" id="page3_1">
        <img src="NemoBookData/PAGE3_5.png" id="page3_2">
        <img src="NemoBookData/PAGE3_8.png" id="page3_3">
    </div>
    <div id="page4">
        <img src="NemoBookData/PAGE4_2.png" id="page4_1">
        <img src="NemoBookData/PAGE4_3.png" id="page4_2">
        <img src="NemoBookData/PAGE4_4.png" id="page4_3">
        <img src="NemoBookData/PAGE4_6.png" id="page4_4">
        <img src="NemoBookData/PAGE4_7.png" id="page4_5">
        <img src="NemoBookData/PAGE4_8.png" id="page4_6">
        <img src="NemoBookData/PAGE4_9.png" id="page4_7">
    </div>
    <div id="page5">
        <img src="NemoBookData/PAGE5_2.png" id="page5_1">
        <img src="NemoBookData/PAGE5_3.png" id="page5_2">
        <img src="NemoBookData/PAGE5_4.png" id="page5_3">
        <img src="NemoBookData/PAGE5_5.png" id="page5_4">
        <img src="NemoBookData/PAGE5_6.png" id="page5_5">
        <img src="NemoBookData/PAGE5_7.png" id="page5_6">
        <img src="NemoBookData/PAGE5_8.png" id="page5_7">
    </div>
    <div id="page6">
        <img src="NemoBookData/PAGE6_2.png" id="page6_1">
        <img src="NemoBookData/PAGE6_3.png" id="page6_2">
        <img src="NemoBookData/PAGE6_4.png" id="page6_3">
        <img src="NemoBookData/PAGE6_5.png" id="page6_4">
        <img src="NemoBookData/PAGE6_7.png" id="page6_5">
    </div>
    <div id="page7">
        <img src="NemoBookData/PAGE7_2.png" id="page7_1">
        <img src="NemoBookData/PAGE7_3.png" id="page7_2">
        <img src="NemoBookData/PAGE7_4.png" id="page7_3">
        <img src="NemoBookData/PAGE7_6.png" id="page7_4">
        <img src="NemoBookData/PAGE7_7.png" id="page7_5">
        <img src="NemoBookData/PAGE7_8.png" id="page7_6">
    </div>
    <div id="page8">
        <img src="NemoBookData/PAGE8_2.png" id="page8_1">
        <img src="NemoBookData/PAGE8_4.png" id="page8_2">
        <img src="NemoBookData/PAGE8_5.png" id="page8_3">
        <img src="NemoBookData/PAGE8_6.png" id="page8_4">
        <img src="NemoBookData/PAGE8_7.png" id="page8_5">
        <img src="NemoBookData/PAGE8_8.png" id="page8_6">
    </div>
    <div id="page9">
        <img src="NemoBookData/PAGE9_3.png" id="page9_1">
        <img src="NemoBookData/PAGE9_4.png" id="page9_2">
        <img src="NemoBookData/PAGE9_5.png" id="page9_3">
        <img src="NemoBookData/PAGE9_6.png" id="page9_4">
        <img src="NemoBookData/PAGE9_7.png" id="page9_5">
        <img src="NemoBookData/PAGE9_8.png" id="page9_6">
        <img src="NemoBookData/PAGE9_9.png" id="page9_7">
        <img src="NemoBookData/PAGE9_10.png" id="page9_8">
        <img src="NemoBookData/PAGE9_11.png" id="page9_9">
        <img src="NemoBookData/PAGE9_12.png" id="page9_10">
        <img src="NemoBookData/PAGE9_13.png" id="page9_11">
    </div>
    <div id="page10">
        <img src="NemoBookData/PAGE10_3.png" id="page10_1">
        <img src="NemoBookData/PAGE10_5.png" id="page10_2">
        <img src="NemoBookData/PAGE10_6.png" id="page10_3">
        <img src="NemoBookData/PAGE10_8.png" id="page10_4">
        <img src="NemoBookData/PAGE10_9.png" id="page10_5">
        <img src="NemoBookData/PAGE10_11.png" id="page10_6">
        <img src="NemoBookData/PAGE10_13.png" id="page10_7">
        <img src="NemoBookData/PAGE10_15.png" id="page10_8">
        <img src="NemoBookData/PAGE10_17.png" id="page10_9">
    </div>
    <div class="left">
        <img src="NemoBookData/left.png" alt="pre" id="pre">
    </div>
    <div class="right">
        <img src="NemoBookData/right.png" alt="next" id="next">
    </div>
    <div class="index">
        <ul>
            <li id="nav1" tabindex="1" class="nav"></li>
            <li id="nav2" tabindex="2"></li>
            <li id="nav3" tabindex="3"></li>
            <li id="nav4" tabindex="4"></li>
            <li id="nav5" tabindex="5"></li>
            <li id="nav6" tabindex="6"></li>
            <li id="nav7" tabindex="7"></li>
            <li id="nav8" tabindex="8"></li>
            <li id="nav9" tabindex="9"></li>
            <li id="nav10" tabindex="10"></li>
        </ul>
    </div>
</main>
<script>
    (function (doc, win) {
        var docEl = doc.documentElement,                    /*//检测设备屏幕*/
                resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
                recalc = function () {
                    var clientWidth = docEl.clientWidth;
                    var clientHeight = docEl.clientHeight;
                    if (!clientWidth) return;
                    if (clientWidth >= 640) {
                        docEl.style.fontSize = '100px';
                    } else {
                        docEl.style.fontSize = 100 * (clientHeight / 1000) + 'px';
                    }
                };
                console.dir(docEl.clientHeight);

        if (!doc.addEventListener) return;
        win.addEventListener(resizeEvt, recalc, false);
        doc.addEventListener('DOMContentLoaded', recalc, false);
        var $ = function (el) {
                    return document.querySelector(el);
                },
                $$ = function (el) {
                    return document.querySelectorAll(el)
                };                  /*自定义选择器*/

        function setClass(el, className) {
            el.setAttribute('class', className)
        }
                                                                /*控制class*/
//    $.prototype.setClass=function (className) {
//        this.setAttribute('class',className)
//    };
        var timer = null,
                pagepre = 10,
                pageIndex = 1,
                pageNext = 2;

        function nextPlay() {                           /*切换控制*/
            var item;
            setClass($('#page' + pageIndex), '');
            setClass($('#page' + pageNext), 'on');
            setClass($('#nav' + pageNext), 'nav');
            setClass($('#nav' + pageIndex), '');
            item = pageIndex;
            pageIndex = pageNext;
            pagepre = item;
            pageNext++;
            if (pageNext > 10) {
                pageNext = 1
            }
        }

        timer = setInterval(nextPlay, 8000);
        function prePlay() {
            var item;
            setClass($('#page' + pageIndex), '');
            setClass($('#page' + pagepre), 'on');
            setClass($('#nav' + pagepre), 'nav');
            setClass($('#nav' + pageIndex), '');
            item = pageIndex;
            pageIndex = pagepre;
            pagepre--;
            pageNext = item;
            if (pagepre < 1) {
                pagepre = 10
            }
        }

        function resetTimer() {
            clearInterval(timer);
            timer = setInterval(nextPlay, 8000)
        }           /*重置计时器*/

        $('.right').addEventListener('click', function () {
            nextPlay();
            resetTimer()
        });
        $('.left').addEventListener('click', function () {
            prePlay();
            resetTimer()
        });
        for (var i = 0; i < 10; i++) {
            $$('li')[i].addEventListener('click', function () {/* 导航控制*/
                var index = this.getAttribute('tabindex');
                console.log(index);
                setClass($('#page' + pageIndex), '');
                pageNext = parseInt(index);
                console.log(pageNext);
                setClass($('#nav' + pageIndex), '');
                pageIndex = index - 1;
                pagepre = index - 2;
                if (pageNext === 1) {
                    pageIndex = 10;
                    pagepre = 9
                }
                if (pageNext === 2) {
                    pageIndex = 1;
                    pagepre = 10
                }
                nextPlay();
                resetTimer();

            })
            console.log($('#page1').style)
        }

    })(document, window);

</script>

<!--<script src="tools.js"></script>-->

</body>
</html>